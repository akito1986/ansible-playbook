---
- name: Create directory for Vim plug
  file:
    path: "{{ dev_tool.home_dir }}/.vim/autoload/"
    state: directory
    mode: 0740

- name: Download Vim plug
  get_url:
    url: https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    dest: "{{ dev_tool.home_dir }}/.vim/autoload/plug.vim "

- name: Install oh_my_zsh
  shell: sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
  ignore_errors: true

- name: Install zsh plugins
  git:
    repo: "https://github.com/zsh-users/{{ item }}.git"
    dest: "{{ dev_tool.home_dir }}/.oh-my-zsh/custom/plugins/{{ item }}"
    update: no
  with_items:
    - zsh-syntax-highlighting
    - zsh-completions

- name: Install ghostplay
  git:
    repo: "https://github.com/ko1nksm/ghostplay.git"
    dest: "{{ dev_tool.home_dir }}/.local/ghostplay"
    update: no

- name: link execution file
  file:
    src: "{{ dev_tool.home_dir }}/.local/ghostplay/ghostplay"
    dest: "{{ dev_tool.home_dir }}/.local/bin/ghostplay"
    state: link

- include: ./env.yml
- include: ./dotfile.yml
